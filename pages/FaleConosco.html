<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="../img lugares/mundo.png" type="image/x-icon" />

    <!--BOOTSTRAP-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
      defer
    ></script>

    <!--BOOTSTRAP ICONS-->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    />

    <link rel="stylesheet" href="../css/faleconosco.css" />
    <script src="../js/script.js"></script>
    <title>Fale Conosco</title>
  </head>
  <body id="pagina">
    <header>
      <!--NAV BAR-->
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
          <a class="navbar-brand" href="./home.html"
            ><i class="bi bi-airplane-engines"></i
          ></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  aria-current="page"
                  href="./home.html"
                  >Início</a
                >
              </li>

              <!--DROPDOWN-->
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-expanded="false"
                >
                  Locais
                </a>
                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" href="../pages/Bonito.html"
                      >Bonito</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/CaldasNovas.html"
                      >Caldas Novas</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/fozIguaçu.html"
                      >Foz do Iguaçu</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/Gramado.html"
                      >Gramado</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/ibitipoca.html"
                      >Ibitipoca</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/jalapao.html"
                      >Jalapão</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/Jeri.html"
                      >Jericoacoara</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/Lençois.html"
                      >Lençóis Maranhenses</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/manaus.html"
                      >Manaus</a
                    >
                  </li>
                  <li>
                    <a class="dropdown-item" href="../pages/rioJaneiro.html"
                      >Rio de Janeiro</a
                    >
                  </li>
                </ul>
              </li>
              <!--FIM DROPDOWN-->

              <li class="nav-item nav-last">
                <a
                  class="nav-link active"
                  aria-current="page"
                  href="../pages/Sobre.html"
                  >Sobre</a
                >
              </li>
            </ul>
          </div>
          <button style="background:none;" class="modo-claro"><img style="zoom: 8%;" src="../img lugares/icone generico de brilho.png" alt=""></button>
          <link rel="icon" href="../img lugares/mundo.png" type="image/x-icon" />
        </div>
      </nav>
      <!--FIM NAV BAR-->
    </header>

    <main
      id="random-image"
      alt="Random Landscape Image"
      style="
        background-image: url(https://images.unsplash.com/photo-1476610182048-b716b8518aae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1MDg5OTh8MHwxfHJhbmRvbXx8fHx8fHx8fDE2OTU5MzAzNzF8&ixlib=rb-4.0.3&q=80&w=1080);
      "
    >
      <section class="formulario">
        <div class="interface">
          <form id="myForm" action="">
            <h2 class="titulo">FALE <span>CONOSCO</span></h2>
            <input
              type="text"
              name="nome"
              id="nome"
              placeholder="Seu nome completo"
              required
            />
            <input
              type="email"
              name="email"
              id="email"
              placeholder="Seu email"
              required
            />
            <textarea
              name="mensagem"
              id="mensagem"
              placeholder="Sua mensagem"
              required
            ></textarea>

            <button
              type="button"
              onclick="enviarFormulario()"
              class="btn btn-primary btn-enviar"
            >
              ENVIAR
            </button>
          </form>
        </div>
        <!--interface-->
      </section>
      <!--formulario-->

      <!--BOTAO API-->
      <div class="api-div">
        <button
          class="btn btn-primary btn-enviar btn-api"
          onclick="getRandomLandscape()"
        >
          Mudar background
        </button>
      </div>
      <!--FIM BOTAO API-->
    </main>
    <footer class="fixarRodape">
      <hr class="hr" />
      <p>&copy; Guia Viajante (2023)</p>
    </footer>
    <script>
      const accessKey = "r24jFh8KwS0cOY6opmY1RlOGkVjsuAoMWZ6-esKlKSQ";
      const apiUrl =
        "https://api.unsplash.com/photos/random?query=landscape&orientation=landscape";

      const arrUrls = [
        "https://images.unsplash.com/photo-1476610182048-b716b8518aae?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1MDg5OTh8MHwxfHJhbmRvbXx8fHx8fHx8fDE2OTU5MzAzNzF8&ixlib=rb-4.0.3&q=80&w=1080",
        "https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1MDg5OTh8MHwxfHJhbmRvbXx8fHx8fHx8fDE2OTU5MzQ2OTh8&ixlib=rb-4.0.3&q=80&w=1080",
      ];

      async function getRandomLandscape() {
        console.log("oi 1");

        // TENTA REQUISITAR IMAGEM DA API
        try {
          const response = await fetch(`${apiUrl}&client_id=${accessKey}`);
          const data = await response.json();

          console.log(data.urls.regular);
          if (data && data && data.urls && data.urls.regular) {
            const randomImage = document.getElementById("random-image");
            randomImage.style = `background-image: url(${data.urls.regular});`;
          }
        } catch (error) {
          console.error("Error fetching image:", error);

          // PERCORRER ARRAY DE URLS LOCAIS
          const randomImage = document.getElementById("random-image");
          for (const element of arrUrls) {
            console.log(randomImage.style.backgroundImage);
            console.log(`url("${element}")`);
            if (`url("${element}")` !== randomImage.style.backgroundImage) {
              randomImage.style = `background-image: url(${element});`;
              break;
            }
          }
        }
      }
    </script>
    <script src="../js/light-mode.js"></script>
  </body>
</html>
